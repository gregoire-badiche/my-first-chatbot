preparation avant l installation obtenir l image d installation visitez la page de telechargement et selon la facon dont vous voulez demarrer recuperez l image iso ou bien l image netboot ainsi que la signature gnupg correspondante verifier la signature il est recommande de verifier la signature de l image avant de l utiliser particulierement lors du telechargement depuis un miroir http puisque ceux ci sont sujet a etre interceptes pour fournir des fichiers malveillants depuis un systeme avec gnupg installe faites cette verification en telechargeant la signature pgp de l iso dans checksums sur la page de telechargement dans le repertoire contenant l iso et en la verifiant avec gpg keyserver options auto key retrieve verify archlinux version x86 64 iso sig depuis une installation arch linux existante vous pouvez egalement utiliser la commande pacman key v archlinux version x86 64 iso sig note la signature elle meme pourrait etre manipulee si elle est telechargee a partir d un site miroir au lieu de l etre a partir de archlinux org comme ci dessus dans ce cas assurez vous que la cle publique qui est utilisee pour decoder la signature soit signee par une autre cle digne de confiance la commande gpg affichera l empreinte de la cle publique une autre methode pour verifier l authenticite de la signature consiste a s assurer que l empreinte de la cle publique est identique a l empreinte de la cle du developpeur arch linux qui a signe le fichier iso voir wikipedia public key cryptography pour plus d informations sur le processus d authentification des cles par une cle publique preparer un support d installation l image d installation peut etre deployee sur la machine concernee via une cle usb un disque optique ou par reseau avec pxe consultez l article approprie pour preparer vous meme un support d installation selon de l image choisie demarrer l environnement live note les images d arch linux ne prennent pas en charge la technologie secure boot et vous devrez la desactiver pour demarrer depuis le support d installation vous pourrez si vous le souhaitez le configurer une fois l installation terminee en suivant ces instructions choisissez le peripherique de demarrage pour utiliser le support prepare precedemment generalement la manipulation consiste a appuyer sur une touche frequemment mentionnee sur l ecran d accueil de votre machine durant le post referez vous au manuel de votre carte mere pour plus de details lorsque le menu du support d installation apparait selectionnez arch linux install medium et validez avec la touche entree astuce l image d installation utilise grub pour demarrer sur les uefi et syslinux sur les bios consultez readme bootparams pour une liste des parametres de demarrage vous serez connecte dans la premiere console virtuelle sous l utilisateur root et vous verrez une invite de commande zsh pour changer de console par exemple pour consulter ce guide avec lynx pendant l installation vous pouvez utiliser alt fleches de direction pour modifier les fichiers de configuration mcedit 1 nano et vim sont disponibles voir pkglist x86 64 txt pour consulter la liste des paquets inclus dans le support d installation disposition du clavier en console la disposition par defaut est le clavier us les dispositions disponibles peuvent etre listees par ls usr share kbd keymaps map gz pour modifier la disposition du clavier passez le nom du fichier correspondant a loadkeys 1 en omettant le chemin du fichier ainsi que l extension par exemple pour la disposition francaise vous pouvez utiliser loadkeys fr latin1 les polices de la console se trouvent dans usr share kbd consolefonts et peuvent de meme etre modifiees avec setfont 8 verifier le mode de demarrage pour connaitre le mode de demarrage consultez le repertoire efivars ls sys firmware efi efivars si la commande affiche le repertoire sans erreur alors le systeme est demarre en mode uefi si le repertoire n existe pas le systeme a probablement demarre en mode bios ou csm si le systeme n a pas demarre dans le mode souhaite consultez le manuel de votre carte mere connexion a internet pour configurer la connexion reseau dans l image live suivez ces etapes verifiez que votre carte reseau est repertoriee et activee par exemple avec ip link 8 ip link pour les connections sans fil comme le wi fi ou les reseaux mobiles 4g verifiez que l utilitaire rfkill ne bloque pas l interface connexion au reseau ethernet connectez le cable wi fi authentifiez vous sur le reseau sans fil avec iwctl reseaux mobiles connectez vous au reseau avec l utilitaire mmcli configurez votre connexion reseau dhcp l adressage dynamique des adresses ip et des serveurs dns fourni par systemd networkd francais et systemd resolved francais devraient fonctionner par defaut pour les protocoles ethernet wi fi and mobiles adresse ip statique suivez network configuration static ip address la connexion peut etre confirmee avec ping ping archlinux org note dans l image d installation systemd networkd francais systemd resolved francais iwd et modemmanager sont preconfigures et actives par defaut ce ne sera pas le cas du systeme installe mise a jour de l horloge systeme dans l environnement live systemd timesyncd est active par defaut et l heure sera synchronisee automatiquement des qu une connexion a internet sera etablie utilisez timedatectl 1 pour vous assurer que l horloge systeme est correctement reglee timedatectl partitionnement des disques une fois reconnus par le systeme live les disques se verront affectes un peripherique de type bloc tel que dev sda dev nvme0n1 ou dev mmcblk0 pour identifier ces peripheriques utilisez lsblk ou fdisk fdisk l les resultats se terminant par rom loop ou airoot peuvent etre ignores les peripheriques mmcblk se terminant par rpbm boot0 et boot1 peuvent etre ignores les partitions suivantes sont necessaires sur un peripheriques choisi une partition racine pour demarrer en mode uefi une partition efi si vous souhaitez utiliser lvm un chiffrement de votre systeme ou encore raid faites le maintenant utilisez fdisk or parted pour modifier la table de partitions par exemple fdisk dev disque en question note si votre disque n apparait pas verifiez que le controleur du disque n est pas en mode raid si le disque depuis lequel vous souhaitez demarrer possede deja une partition efi n en recreez pas une autre mais utilisez la partition pre existante la swap peut etre definie sur un fichier d echange pour les systemes de fichier qui le prennent en charge d autres points de montage tels que mnt efi ne devrait etre envisage que si le chargeur d amorcage utilise est capable de charger le noyau et l initramfs directement depuis la partition racine voir l avertissement dans arch boot process francais chargeur d amorcage formatage des partitions une fois les partitions crees celles ci doivent etre formatees avec un systeme de fichier approprie consultez file systems create a file system pour plus de details par exemple pour creer un systeme de fichier ext4 sur dev partition racine utilisez mkfs ext4 dev partition racine si vous avez cree une partition d echange initialisez la avec mkswap 8 mkswap dev partition d echange note pour les configurations avec lvm chiffrement ou raid remplacez dev partition par le chemin vers le peripherique de type bloc approprie si vous avez cree une partition systeme efi formatez la en fat32 avec mkfs fat 8 attention ne formatez la partition systeme efi que si vous l avez creee pendant le partitionnement s il y avait deja une partition systeme efi sur le disque precedemment son formatage peut detruire les chargeurs d amorcage des autres systemes d exploitation installes mkfs fat f 32 dev efi system partition montage des systemes de fichiers montez la partition racine dans mnt par exemple si la partition racine est dev partition racine mount dev partition racine mnt creez chaques points de montage restants tels que mnt boot et montez les volumes dans l ordre hierarchique correspondant astuce utilisez mount 8 avec l option mkdir pour creer le point de montage specifie vous pouvez egalement le creer au prealable a l aide de mkdir 1 pour les systemes avec un uefi montez la partition systeme efi mount mkdir dev efi system partition mnt boot si vous avez cree une partition d echange activez la avec swapon 8 swapon dev partition d echange genfstab 8 detectera plus tard les systemes de fichiers et l espace d echange montes installation selection du miroir les paquets a installer doivent etre telecharges depuis les miroirs des depots officiels tels que definis dans etc pacman d mirrorlist sur le systeme live apres connexion a internet reflector met a jour la liste des miroirs en selectionnant les 20 miroirs les plus recemment synchronises et en les triant par vitesse de telechargement plus le miroir se trouve haut dans la liste plus grande est sa priorite lors d un telechargement verifiez le contenu de etc pacman d mirrorlist et modifiez le si besoin placez les miroirs les plus proches geographiquement en haut de la liste bien que d autres criteres sont a prendre en compte par exemple pour trouver un miroir plus proche de chez vous et ou plus rapide en utilisant reflector reflector country france age 12 protocol https sort rate save etc pacman d mirrorlist cette commande devrait selectionner les miroirs https synchronises ces 12 dernieres heures en france les trier par vitesse de telechargement et mettre a jour le fichier etc pacman d mirrorlist pacstrap copiera plus tard ce fichier sur le nouveau systeme prendre votre temps sur cette etape peut donc vous en faire gagner plus tard installation des paquets essentiels note aucun logiciel ou configuration a l exception de etc pacman d mirrorlist n est transfere de l environnement live vers le systeme installe utilisez le script pacstrap 8 en lui indiquant le repertoire correspondant a la racine du systeme suivi des paquets ou groupes a installer separes par un espace pour le systeme de base installez le meta paquet base le noyau et le microprogramme pour les peripheriques les plus courants pacstrap k mnt base linux linux firmware astuce vous pouvez remplacer linux par un autre noyau de votre choix ou l omettre dans l installation d un container vous pouvez egalement omettre le microprogramme si vous installez dans une machine virtuelle un container le paquet base n inclut pas tous les outils de l installation live donc l installation d autres paquets peut etre necessaire pour obtenir un systeme de base entierement fonctionnel pour installer d autres paquets ou groupes de paquets ajoutez leurs noms a la commande pacstrap ci dessus separes par des espaces ou utilisez pacman pour les installer pendant que vous etes chroot e dans votre nouvelle installation en particulier envisagez d installer les utilitaires necessaires a la gestion des systemes de fichiers les utilitaires pour acceder aux partitions raid ou lvm les microprogrammes specifiques a des peripheriques qui ne seraient pas deja inclus dans linux firmware comme sof firmware pour les cartes son les logiciels necessaires a la connexion au reseau par exemple un gestionnaire de reseau ou un client dhcp autonome un logiciel d authentification pour le wi fi un gestionnaire de modem pour les reseaux mobiles un editeur de texte les paquets de documentation comme man db man pages et texinfo a titre d exemple consultez la liste des paquets disponibles sur le media d installation configuration du systeme fstab generez le fichier fstab utiliser u ou l pour definir par uuid ou etiquettes respectivement genfstab u mnt mnt etc fstab verifiez le fichier mnt etc fstab obtenu et modifiez le en cas d erreur chroot chrooter dans le nouveau systeme arch chroot mnt fuseau horaire definissez le fuseau horaire par exemple pour la france ln sf usr share zoneinfo europe paris etc localtime lancez hwclock 8 pour generer etc adjtime hwclock systohc cette commande repose sur l hypothese que l horloge materielle est reglee sur utc consultez system time francais standard de temps pour plus de details locales modifiez etc locale gen et de commentez votre locale puis generez les locales avec la commande suivante locale gen creez le fichier locale conf 5 et definissez la variable lang correspondante etc locale conf lang fr fr utf 8 editez le fichier vconsole conf 5 afin d y specifier la disposition de clavier que vous souhaitez conserver etc vconsole conf keymap fr latin1 configuration reseau creez le fichier hostname etc hostname lenomdemamachine terminez la configuration du reseau pour le nouvel environnement installe il se peut que vous deviez installer un logiciel de gestion de reseau specifique initramfs la creation d un nouvel initramfs n est generalement pas necessaire car mkinitcpio a ete lance lors de l installation du noyau avec pacstrap pour lvm le chiffrement ou raid modifiez mkinitcpio conf 5 et recreez l image initramfs mkinitcpio p mot de passe administrateur definissez un mot de passe pour root passwd installation d un chargeur d amorcage choisissez et installez un chargeur d amorcage adapte si vous avez un cpu intel ou amd pensez a activer egalement les mises a jour du microcode redemarrer sortez de l environnement chroot en tapant exit ou par le raccourci ctrl d si vous le souhaitez demontez manuellement toutes les partitions avec umount r mnt cela permet de detecter les partitions occupees et d en trouver la cause avec fuser 1 enfin redemarrez la machine en tapant reboot toutes les partitions encore montees seront automatiquement demontees par systemd n oubliez pas de retirer le support d installation et vous pourrez vous connecter au nouveau systeme avec le compte root apres le redemarrage consultez les recommandations generales pour des indications sur l administration de votre systeme et des tutoriels de post installation comme la creation de comptes utilisateurs non privilegies la configuration d une interface utilisateur graphique du son ou d un pave tactile pour une liste des applications pouvant presenter un interet voir la liste des applications retrieved from https wiki archlinux org index php title installation guide francais oldid 790324
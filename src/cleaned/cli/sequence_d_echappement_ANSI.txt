en telematique les sequences d echappement ansi permettent de controler le formatage du texte dans un peripherique graphique terminal informatique telescripteur ou imprimante pour encoder cette information de formatage certains caracteres sont inseres dans le texte et interpretes par le terminal non comme des caracteres mais comme des commandes successeurs des codes proprietaires des annees 1960 ebcdic d ibm notamment les codes ansi sont apparus dans les annees 1970 et leur usage s est repandu dans le marche informatique au debut des annees 1980 bien que les terminaux physiques en mode texte soient devenus rares au debut du xxie siecle les codes ansi restent utilises dans les emulateurs de terminaux vers le milieu des annees 1960 pratiquement tous les fabricants de terminaux video les ont pourvus en rom de sequences d echappement pour realiser les operations graphiques les plus elementaires a savoir effacer l ecran et deplacer le curseur a une position quelconque de l ecran dans le cas du terminal vt52 on placait le curseur a l intersection de la colonne x et de la ligne y en tapant ou en imprimant en memoire video le code ascii esc puis y et les deux chiffres donnant le numero de colonne x et le numero de ligne y plus 32 conformement au codage ascii qui demarre la liste des chiffres a partir du code 32 la console hazeltine 1500 ne fonctionnait pas differemment au lieu du code esc il fallait taper dc1 puis les coordonnees d ecran x et y separees par une virgule ainsi pour une meme fonctionnalite ces deux terminaux utilisaient des sequences de controle differentes les terminaux en mode texte etaient presque tous monochromes de sorte que le codage informatique des couleurs a ete progressif un groupe de codes ansi le select graphic rendition subset s est limite dans un premier temps a un codage sur 4 bits soit 16 couleurs noir rouge vert jaune bleu magenta cyan gris clair gris fonce rouge clair vert clair jaune citron cobalt magenta clair cyan clair blanc qui etait celui pris en charge par la premiere carte graphique couleur la carte cga d ibm 1981 la disparite des sequences de controle d un fabricant a l autre a suscite le developpement de bases de donnees de conversion comme termcap terminal capabilities et de scripts comme tput de facon a permettre aux programmes d utiliser une api compatible avec tous les terminaux en outre sur plusieurs de ces terminaux les nombres de la sequence de controle le numero de ligne et de colonne devaient etre convertis en code octal pour certains langages de programmation et pour les ordinateurs qui n integraient pas les codes ascii la conversion d un nombre en code octal devait etre traitee explicitement par l utilisateur la norme ansi s efforcait de traiter ces problemes en prescrivant une liste de commandes primitives accessibles sur tous les terminaux dont les arguments numeriques devaient etre codes avec les codes ascii des chiffres la premiere des normes ansi de ce genre est ecma 48 adoptee en 1976 elle completait une serie de normes bureautiques la plus ancienne etant l ecma 6 de 1965 norme utilisant une table de 128 codes a 7 bits et qui est le point de depart de la norme iso 646 l appellation ansi escape sequence remonte a l annee 1979 qui est celle ou l ansi a promulgue la norme ansi x3 64 la commission ansi x3l2 avait collabore avec le groupe technique 1 de la commission ecma pour parvenir a un codage pratiquement uniforme ces deux normes ont fusionne ensuite pour aboutir a la norme internationale iso 64293 finalement adoptee en 1994 par l ansi la console dec vt100 a participe a la banalisation des interfaces semi graphiques le premier terminal video a reconnaitre les sequences de controle d ecran etait le dec vt100 commercialise en 1978 ce modele beneficia d une grande faveur aupres des entreprises et connut une multitude de versions bon marche concurrentes a commencer par la zenith z 19 en 1979 parmi les autres consoles il faut principalement citer la qvt 108 de qume la tvi 970 de televideo la wy 99gt de wyse et toutes les consoles dotees de modes optionnels vt100 vt103 ou ansi plus ou moins compatibles le succes rencontre par ces materiels aupres du public surtout grace a l application bulletin board system et a d autres services en ligne rendus possibles par la mise en place d un reseau local directement lie a la prise en charge des caracteres d echappement a impose a tous les terminaux et emulateurs d interfaces d incorporer la reconnaissance de ces memes caracteres en 1981 le bulletin d information des normes bureautiques no 86 du gouvernement federal americain annoncait l adoption de sa propre norme ansi x3 64 pour les caracteres d echappement mais confronte a un risque d incompatibilite avec les standards informatiques deja prevalents il dut l abandonner peu apres le standard ecma 48 a ete mis a jour a de nombreuses reprises et en etait en 1991 a sa 5e edition il a ete integre aux normes iso et iec comme norme iso iec 6429 et par le japanese industrial standard avec la norme jis x 02 d autres normes l ont integre a peu de changements pres le standard pour telescripteurs itu t 61 la norme europeenne teletex et l iso iec 8613 enfin l open document architecture surtout iso iec 8613 6 ou itu t 416 les differences ponctuelles n affectaient d ailleurs pas le comportement graphique des terminaux eux memes quoique ces standards soient depuis tombes en desuetude l ecma 48 a conserve les codes reserves a leurs extensions particulieres bien que les bibliotheques logicielles du type termcap terminfo aient ete concues initialement pour et sur plates formes unix au milieu des annees 1980 les programmes fonctionnant sur les systemes d exploitation de type unix presupposaient presque tous que le terminal ou l emulateur auquel ils etaient destines reconnaissait les sequences de controle ansi c etait le cas de nombreux jeux et applicatifs fonctionnant en mode semi graphique on ne pouvait donc les utiliser sur des terminaux n interpretant pas les codes d echappement aujourd hui un grand nombre de programmes y compris les editeur de texte comme vi et gnu emacs emploient termcap ou terminfo ou recourent a des bibliotheques logicielles comme curses qui s appuie sur la base de donnees termcap ou terminfo de ce fait il ne peuvent plus tourner sur les vieilles consoles qui n integraient pas les codes ansi mais il est tres rare d utiliser aujourd hui ces anciens materiels l emulateur de terminal xterm est disponible des la couche x11 d unix les emulateur de terminaux qui permettent de lancer et d editer des programmes en meme local utilisent presque tous les codes d echappement ansi de meme que les consoles citons par exemple les emulateurs de terminal xterm rxvt gnome terminal et konsole pour les environnements de bureau bases sur x11 ou wayland terminal app et quelques autres emulateurs independants comme iterm2 sur les plates formes macos ms dos 1 x ne reconnaissait ni les codes ansi ni meme aucune sequence d echappement ce n est que parce que la couche bios sous jacente les decodait qu un petit nombre de caracteres de controle l alerte sonore le retour chariot le saut de ligne le retour arriere etaient reconnus de sorte qu il etait pratiquement impossiblenote 1 de produire la moindre application semi graphique sur de tels appareils les quelques effets graphiques disponibles requeraient soit un appel au bios qui etait a l epoque repute pour sa relative lenteur soit un programme en assembleur ou langage machine ibm dos 2 0 a menage la possibilite d integrer un pilote de decodage des codes ansi le standard etant de facto ansi sys mais avec possibilite d utiliser ad libitum ansi com nansi sys ou ansiplus exe ces deux la etant nettement plus rapides car ils court circuitaient le bios malgre cela une certaine lenteur et le fait que l utilisateur devait installer lui meme le pilote ont dissuade les editeurs de logiciels plein ecran de s en servir les developpeurs de jeux video et d applications continuaient d adresser directement la memoire video en langage machine ansi sys et les pilotes du meme genre ont continue d etre supportes sur windows 95 windows 98 windows me et les versions derivees de windows nt pour les programmes en mode 16 bits tournant sous ntvdm plusieurs emulations de dos reconnaissaient les caracteres de controle et evitaient de devoir charger un pilote ansi pts dos de meme que concurrent dos multiuser dos et real 32 comportent une aide en ligne et diverses extensions os 2 comporte une commande ansi qui interprete les sequences de controle la console windows ne reconnaissait aucune sequence d echappement et microsoft ne fournissait aucune methode pour y parvenir certains substituts de la console windows tels tcc anciennement 4nt de jp software ansi com de michael j mefford ansicon de jason hood et conemu de maximus5 interpretaient les sequence de controle ansi imprimees par programme une bibliotheque logicielle python realisait une operation similaire de facon a faciliter le portage de programmes python semi graphiques sous windows pour porter les codes posix c sous windows cygwin integre un interpreteur de sequences d echappement pour convertir les frappes clavier sous la console windows cet interpreteur utilise des descripteurs de fichier cygwin et le rendu est assure grace aux primitives graphiques de cygwin1 dll en 2016 microsoft a deploye la version 1511 de windows 10 qui pour la premiere fois depuis le lancement de windows nt reconnait les sequences de controle ansi ce developpement a ete realise en parallele de celui de windows subsystem for linux permettant aux applications pour console type unix d exploiter les sequences de controle des jeux et applications pour windows il est malheureusement desactive par defaut mais fonctionne sous windows powershell 5 1 powershell 6 permet enfin d utiliser le caractere esc dans une chaine grace au code e 18 windows terminal mis sur le marche en 2019 accepte par defaut les sequences d echappement ansi et microsoft a annonce son intention de remplacer la console windows par windows terminal l atari st au lieu des sequences ansi proprement dites utilisait un jeu de commandes inspire de celui du terminal vt52 a quelques extensions proprietaires pres pour la prise en charge des couleurs le systeme d exploitation amigaos utilise les sequences de controle ansi non seulement pour l affichage a l ecran mais aussi pour le formatage des pages via le pilote d impression de l imprimante a quelques extensions proprietaires pres vms etait concu pour etre utilise interactivement depuis les terminaux video de marque digital dont le plus celebre est le vt100 cet environnement etait toujours utilisable avec les emulateurs graphiques vws terminal decterm et xterm sous x11